{"ast":null,"code":"import _slicedToArray from\"/home/arthur/Bureau/sites/makerepo-react-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useContext,useState}from\"react\";import{UserContext}from\"../contexts/UserContext\";import Logout from\"./Logout\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";var Home=function Home(){var _useContext=useContext(UserContext),user=_useContext.user,setUser=_useContext.setUser;var _useState=useState(null),_useState2=_slicedToArray(_useState,2),badge=_useState2[0],setBadge=_useState2[1];var getBadges=function getBadges(){fetch('http://localhost:3000/badges/populate_badge_list?user_id=1',{method:'GET',credentials:'include',headers:{'Accept':'application/json','Content-Type':'application/json'}}).then(function(response){return response.json().then(function(data){setBadge(JSON.stringify(data));});}).catch(function(error){console.error(error);});};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"h1\",{children:[\"Hello \",user.name]}),/*#__PURE__*/_jsx(\"button\",{onClick:getBadges,children:\"Get badges\"}),badge!==null&&/*#__PURE__*/_jsx(\"p\",{children:badge}),/*#__PURE__*/_jsx(Logout,{})]});};export default Home;","map":{"version":3,"sources":["/home/arthur/Bureau/sites/makerepo-react-app/src/components/Home.js"],"names":["React","useContext","useState","UserContext","Logout","Home","user","setUser","badge","setBadge","getBadges","fetch","method","credentials","headers","then","response","json","data","JSON","stringify","catch","error","console","name"],"mappings":"mKAAA,MAAOA,CAAAA,KAAP,EAAeC,UAAf,CAA2BC,QAA3B,KAA0C,OAA1C,CACA,OAAQC,WAAR,KAA0B,yBAA1B,CACA,MAAOC,CAAAA,MAAP,KAAmB,UAAnB,C,wFAEA,GAAMC,CAAAA,IAAI,CAAG,QAAPA,CAAAA,IAAO,EAAM,iBAEWJ,UAAU,CAACE,WAAD,CAFrB,CAEPG,IAFO,aAEPA,IAFO,CAEDC,OAFC,aAEDA,OAFC,eAGaL,QAAQ,CAAC,IAAD,CAHrB,wCAGPM,KAHO,eAGAC,QAHA,eAKf,GAAMC,CAAAA,SAAS,CAAG,QAAZA,CAAAA,SAAY,EAAM,CACpBC,KAAK,CAAC,4DAAD,CAA+D,CAChEC,MAAM,CAAE,KADwD,CAEhEC,WAAW,CAAE,SAFmD,CAGhEC,OAAO,CAAE,CACL,SAAU,kBADL,CAEL,eAAgB,kBAFX,CAHuD,CAA/D,CAAL,CAMQC,IANR,CAMa,SAAAC,QAAQ,QAAIA,CAAAA,QAAQ,CAACC,IAAT,GAAgBF,IAAhB,CAAsB,SAAAG,IAAI,CAAI,CAC/CT,QAAQ,CAACU,IAAI,CAACC,SAAL,CAAeF,IAAf,CAAD,CAAR,CACH,CAFoB,CAAJ,EANrB,EASGG,KATH,CASS,SAACC,KAAD,CAAW,CAChBC,OAAO,CAACD,KAAR,CAAcA,KAAd,EACH,CAXD,EAYH,CAbD,CAeA,mBACI,oCACI,+BAAWhB,IAAI,CAACkB,IAAhB,GADJ,cAEI,eAAQ,OAAO,CAAEd,SAAjB,wBAFJ,CAGMF,KAAK,GAAK,IAAV,eACE,mBAAKA,KAAL,EAJR,cAMI,KAAC,MAAD,IANJ,GADJ,CAUH,CA9BD,CAgCA,cAAeH,CAAAA,IAAf","sourcesContent":["import React, {useContext, useState} from \"react\";\nimport {UserContext} from \"../contexts/UserContext\";\nimport Logout from \"./Logout\";\n\nconst Home = () => {\n\n    const { user, setUser } = useContext(UserContext);\n    const [ badge, setBadge ] = useState(null);\n\n    const getBadges = () => {\n        fetch('http://localhost:3000/badges/populate_badge_list?user_id=1', {\n            method: 'GET',\n            credentials: 'include',\n            headers: {\n                'Accept': 'application/json',\n                'Content-Type': 'application/json',\n            }}).then(response => response.json().then((data => {\n                setBadge(JSON.stringify(data))\n            })\n        )).catch((error) => {\n            console.error(error);\n        });\n    }\n\n    return (\n        <div>\n            <h1>Hello {user.name}</h1>\n            <button onClick={getBadges}>Get badges</button>\n            { badge !== null &&\n                <p>{ badge }</p>\n            }\n            <Logout/>\n        </div>\n    )\n};\n\nexport default Home;"]},"metadata":{},"sourceType":"module"}