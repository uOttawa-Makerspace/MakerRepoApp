{"ast":null,"code":"import _slicedToArray from\"/home/arthur/Bureau/sites/makerepo-react-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useContext,useState}from\"react\";import{UserContext}from\"../contexts/UserContext\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Login=function Login(){var _useContext=useContext(UserContext),user=_useContext.user,setUser=_useContext.setUser;var _useState=useState(''),_useState2=_slicedToArray(_useState,2),usernameEmail=_useState2[0],setUsernameEmail=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),password=_useState4[0],setPassword=_useState4[1];var handleLogin=function handleLogin(e){e.preventDefault();fetch('http://localhost:3000/login_authentication',{method:'post',credentials:'include',headers:{'Accept':'application/json','Content-Type':'application/json'},body:JSON.stringify({username_email:usernameEmail,password:password})}).then(function(response){return response.json().then(function(data){setUser(data['user']);});}).catch(function(error){console.error(error);});};return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col w-full px-4 py-8 bg-white rounded-lg shadow dark:bg-gray-800 sm:px-6 md:px-8 lg:px-10\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"self-center mb-6 text-xl font-light text-gray-600 sm:text-2xl dark:text-white\",children:\"Login To Your MakerRepo Account\"}),/*#__PURE__*/_jsx(\"div\",{className:\"mt-8\",children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleLogin,children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex flex-col mb-2\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex relative\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"rounded-l-md inline-flex  items-center px-3 border-t bg-white border-l border-b  border-gray-300 text-gray-500 shadow-sm text-sm\",children:/*#__PURE__*/_jsx(\"svg\",{width:\"15\",height:\"15\",fill:\"currentColor\",viewBox:\"0 0 1792 1792\",xmlns:\"http://www.w3.org/2000/svg\",children:/*#__PURE__*/_jsx(\"path\",{d:\"M1792 710v794q0 66-47 113t-113 47h-1472q-66 0-113-47t-47-113v-794q44 49 101 87 362 246 497 345 57 42 92.5 65.5t94.5 48 110 24.5h2q51 0 110-24.5t94.5-48 92.5-65.5q170-123 498-345 57-39 100-87zm0-294q0 79-49 151t-122 123q-376 261-468 325-10 7-42.5 30.5t-54 38-52 32.5-57.5 27-50 9h-2q-23 0-50-9t-57.5-27-52-32.5-54-38-42.5-30.5q-91-64-262-182.5t-205-142.5q-62-42-117-115.5t-55-136.5q0-78 41.5-130t118.5-52h1472q65 0 112.5 47t47.5 113z\"})})}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"sign-in-email\",value:usernameEmail,onChange:function onChange(e){return setUsernameEmail(e.target.value);},name:\"username_email\",className:\" rounded-r-lg flex-1 appearance-none border border-gray-300 w-full py-2 px-4 bg-white text-gray-700 placeholder-gray-400 shadow-sm text-base focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent\",placeholder:\"Your email or username\"})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"flex flex-col mb-6\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex relative\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"rounded-l-md inline-flex  items-center px-3 border-t bg-white border-l border-b  border-gray-300 text-gray-500 shadow-sm text-sm\",children:/*#__PURE__*/_jsx(\"svg\",{width:\"15\",height:\"15\",fill:\"currentColor\",viewBox:\"0 0 1792 1792\",xmlns:\"http://www.w3.org/2000/svg\",children:/*#__PURE__*/_jsx(\"path\",{d:\"M1376 768q40 0 68 28t28 68v576q0 40-28 68t-68 28h-960q-40 0-68-28t-28-68v-576q0-40 28-68t68-28h32v-320q0-185 131.5-316.5t316.5-131.5 316.5 131.5 131.5 316.5q0 26-19 45t-45 19h-64q-26 0-45-19t-19-45q0-106-75-181t-181-75-181 75-75 181v320h736z\"})})}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",id:\"sign-in-password\",value:password,onChange:function onChange(e){return setPassword(e.target.value);},name:\"password\",className:\" rounded-r-lg flex-1 appearance-none border border-gray-300 w-full py-2 px-4 bg-white text-gray-700 placeholder-gray-400 shadow-sm text-base focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent\",placeholder:\"Your password\"})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"flex w-full\",children:/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"py-2 px-4 bg-primary hover:bg-primary focus:ring-primary focus:ring-offset-primary-200 text-white w-full transition ease-in duration-200 text-center text-base font-semibold shadow-md focus:outline-none focus:ring-2 focus:ring-offset-2  rounded-lg \",children:\"Login\"})})]})})]})});};export default Login;","map":{"version":3,"sources":["/home/arthur/Bureau/sites/makerepo-react-app/src/components/Login.js"],"names":["React","useContext","useState","UserContext","Login","user","setUser","usernameEmail","setUsernameEmail","password","setPassword","handleLogin","e","preventDefault","fetch","method","credentials","headers","body","JSON","stringify","username_email","then","response","json","data","catch","error","console","target","value"],"mappings":"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","sourcesContent":["import React, {useContext, useState} from \"react\";\nimport {UserContext} from \"../contexts/UserContext\";\n\nconst Login = () => {\n\n    const {user, setUser} = useContext(UserContext);\n\n    const [usernameEmail, setUsernameEmail] = useState('')\n    const [password, setPassword] = useState('')\n\n    const handleLogin = (e) => {\n        e.preventDefault();\n        fetch('http://localhost:3000/login_authentication', {\n            method: 'post',\n            credentials: 'include',\n            headers: {\n                'Accept': 'application/json',\n                'Content-Type': 'application/json',\n            },\n            body: JSON.stringify({\n                username_email: usernameEmail,\n                password: password,\n            })\n        }).then(response => response.json().then(data => {\n            setUser(data['user']);\n        })).catch((error) => {\n            console.error(error);\n        });\n    }\n\n    return (\n        <div>\n            <div\n                className=\"flex flex-col w-full px-4 py-8 bg-white rounded-lg shadow dark:bg-gray-800 sm:px-6 md:px-8 lg:px-10\">\n                <div className=\"self-center mb-6 text-xl font-light text-gray-600 sm:text-2xl dark:text-white\">\n                    Login To Your MakerRepo Account\n                </div>\n                <div className=\"mt-8\">\n                    <form onSubmit={handleLogin}>\n                        <div className=\"flex flex-col mb-2\">\n                            <div className=\"flex relative\">\n                    <span\n                        className=\"rounded-l-md inline-flex  items-center px-3 border-t bg-white border-l border-b  border-gray-300 text-gray-500 shadow-sm text-sm\">\n                        <svg width=\"15\" height=\"15\" fill=\"currentColor\" viewBox=\"0 0 1792 1792\"\n                             xmlns=\"http://www.w3.org/2000/svg\">\n                            <path\n                                d=\"M1792 710v794q0 66-47 113t-113 47h-1472q-66 0-113-47t-47-113v-794q44 49 101 87 362 246 497 345 57 42 92.5 65.5t94.5 48 110 24.5h2q51 0 110-24.5t94.5-48 92.5-65.5q170-123 498-345 57-39 100-87zm0-294q0 79-49 151t-122 123q-376 261-468 325-10 7-42.5 30.5t-54 38-52 32.5-57.5 27-50 9h-2q-23 0-50-9t-57.5-27-52-32.5-54-38-42.5-30.5q-91-64-262-182.5t-205-142.5q-62-42-117-115.5t-55-136.5q0-78 41.5-130t118.5-52h1472q65 0 112.5 47t47.5 113z\">\n                            </path>\n                        </svg>\n                    </span>\n                                <input type=\"text\" id=\"sign-in-email\" value={usernameEmail}\n                                       onChange={e => setUsernameEmail(e.target.value)} name=\"username_email\"\n                                       className=\" rounded-r-lg flex-1 appearance-none border border-gray-300 w-full py-2 px-4 bg-white text-gray-700 placeholder-gray-400 shadow-sm text-base focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent\"\n                                       placeholder=\"Your email or username\"/>\n                            </div>\n                        </div>\n                        <div className=\"flex flex-col mb-6\">\n                            <div className=\"flex relative\">\n                        <span\n                            className=\"rounded-l-md inline-flex  items-center px-3 border-t bg-white border-l border-b  border-gray-300 text-gray-500 shadow-sm text-sm\">\n                            <svg width=\"15\" height=\"15\" fill=\"currentColor\" viewBox=\"0 0 1792 1792\"\n                                 xmlns=\"http://www.w3.org/2000/svg\">\n                                <path\n                                    d=\"M1376 768q40 0 68 28t28 68v576q0 40-28 68t-68 28h-960q-40 0-68-28t-28-68v-576q0-40 28-68t68-28h32v-320q0-185 131.5-316.5t316.5-131.5 316.5 131.5 131.5 316.5q0 26-19 45t-45 19h-64q-26 0-45-19t-19-45q0-106-75-181t-181-75-181 75-75 181v320h736z\">\n                                </path>\n                            </svg>\n                        </span>\n                                <input type=\"password\" id=\"sign-in-password\" value={password}\n                                       onChange={e => setPassword(e.target.value)} name=\"password\"\n                                       className=\" rounded-r-lg flex-1 appearance-none border border-gray-300 w-full py-2 px-4 bg-white text-gray-700 placeholder-gray-400 shadow-sm text-base focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent\"\n                                       placeholder=\"Your password\"/>\n                            </div>\n                        </div>\n                        {/*<div className=\"flex items-center mb-6 -mt-4\">*/}\n                        {/*    <div className=\"flex ml-auto\">*/}\n                        {/*        <a href=\"#\"*/}\n                        {/*           className=\"inline-flex text-xs font-thin text-gray-500 sm:text-sm dark:text-gray-100 hover:text-gray-700 dark:hover:text-white\">*/}\n                        {/*            Forgot Your Password?*/}\n                        {/*        </a>*/}\n                        {/*    </div>*/}\n                        {/*</div>*/}\n                        <div className=\"flex w-full\">\n                            <button type=\"submit\"\n                                    className=\"py-2 px-4 bg-primary hover:bg-primary focus:ring-primary focus:ring-offset-primary-200 text-white w-full transition ease-in duration-200 text-center text-base font-semibold shadow-md focus:outline-none focus:ring-2 focus:ring-offset-2  rounded-lg \">\n                                Login\n                            </button>\n                        </div>\n                    </form>\n                </div>\n                {/*<div className=\"flex items-center justify-center mt-6\">*/}\n                {/*    <a href=\"#\" target=\"_blank\"*/}\n                {/*       className=\"inline-flex items-center text-xs font-thin text-center text-gray-500 hover:text-gray-700 dark:text-gray-100 dark:hover:text-white\">*/}\n                {/*    <span className=\"ml-2\">*/}\n                {/*        You don&#x27;t have an account?*/}\n                {/*    </span>*/}\n                {/*    </a>*/}\n                {/*</div>*/}\n            </div>\n        </div>\n    )\n};\n\nexport default Login;"]},"metadata":{},"sourceType":"module"}