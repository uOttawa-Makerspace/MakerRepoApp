{"ast":null,"code":"import _regeneratorRuntime from\"/home/arthur/Bureau/sites/makerepo-react-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/home/arthur/Bureau/sites/makerepo-react-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import React,{useContext}from\"react\";import{UserContext}from\"../contexts/UserContext\";import{jsx as _jsx}from\"react/jsx-runtime\";var Logout=function Logout(){var _useContext=useContext(UserContext),user=_useContext.user,setUser=_useContext.setUser;var handleLogout=function handleLogout(e){fetch('http://localhost:3000/logout',{method:'GET',credentials:'include',headers:{'Accept':'application/json','Content-Type':'application/json'}}).then(function(response){return response.json().then(/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(data){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:setUser(null);case 1:case\"end\":return _context.stop();}}},_callee);}));return function(_x){return _ref.apply(this,arguments);};}());}).catch(function(error){console.error(error);});};return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"button\",{onClick:handleLogout,children:\"Logout\"})});};export default Logout;","map":{"version":3,"sources":["/home/arthur/Bureau/sites/makerepo-react-app/src/components/Logout.js"],"names":["React","useContext","UserContext","Logout","user","setUser","handleLogout","e","fetch","method","credentials","headers","then","response","json","data","catch","error","console"],"mappings":"mUAAA,MAAOA,CAAAA,KAAP,EAAeC,UAAf,KAAgC,OAAhC,CACA,OAAQC,WAAR,KAA0B,yBAA1B,C,2CAEA,GAAMC,CAAAA,MAAM,CAAG,QAATA,CAAAA,MAAS,EAAM,iBAESF,UAAU,CAACC,WAAD,CAFnB,CAETE,IAFS,aAETA,IAFS,CAEHC,OAFG,aAEHA,OAFG,CAIjB,GAAMC,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,CAACC,CAAD,CAAO,CACxBC,KAAK,CAAC,8BAAD,CAAiC,CAClCC,MAAM,CAAE,KAD0B,CAElCC,WAAW,CAAE,SAFqB,CAGlCC,OAAO,CAAE,CACL,SAAU,kBADL,CAEL,eAAgB,kBAFX,CAHyB,CAAjC,CAAL,CAMQC,IANR,CAMa,SAACC,QAAD,QAAcA,CAAAA,QAAQ,CAACC,IAAT,GAAgBF,IAAhB,0FAAsB,iBAAMG,IAAN,kHACzCV,OAAO,CAAC,IAAD,CAAP,CADyC,sDAAtB,+DAAd,EANb,EASGW,KATH,CASS,SAACC,KAAD,CAAW,CAChBC,OAAO,CAACD,KAAR,CAAcA,KAAd,EACH,CAXD,EAYH,CAbD,CAeA,mBACI,kCACI,eAAQ,OAAO,CAAEX,YAAjB,oBADJ,EADJ,CAKH,CAxBD,CA0BA,cAAeH,CAAAA,MAAf","sourcesContent":["import React, {useContext} from \"react\";\nimport {UserContext} from \"../contexts/UserContext\";\n\nconst Logout = () => {\n\n    const { user, setUser } = useContext(UserContext);\n\n    const handleLogout = (e) => {\n        fetch('http://localhost:3000/logout', {\n            method: 'GET',\n            credentials: 'include',\n            headers: {\n                'Accept': 'application/json',\n                'Content-Type': 'application/json',\n            }}).then((response) => response.json().then((async data => {\n                setUser(null);\n            })\n        )).catch((error) => {\n            console.error(error);\n        });\n    }\n\n    return (\n        <div>\n            <button onClick={handleLogout}>Logout</button>\n        </div>\n    )\n};\n\nexport default Logout;"]},"metadata":{},"sourceType":"module"}