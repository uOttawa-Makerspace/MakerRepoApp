(this["webpackJsonpmakerepo-react-app"]=this["webpackJsonpmakerepo-react-app"]||[]).push([[0],{169:function(e,t){},214:function(e,t,c){"use strict";c.r(t);var n=c(1),a=c.n(n),r=c(102),s=c.n(r),i=(c(73),c(5)),o="1.0.0",l={config:{api_url:"https://dev.makerepo.com",app_version:o}},d=c(19),j=c.n(d),u=function(){var e=window.localStorage.getItem("user");return e?JSON.parse(e):null},b=function(){return window.localStorage.getItem("token")||null},h=function(){window.localStorage.removeItem("token"),window.localStorage.removeItem("user")},m=function(e,t){window.localStorage.setItem("token",e),window.localStorage.setItem("user",JSON.stringify(t))},p=c(0);var O=function(e){var t=Object(n.useState)(""),c=Object(i.a)(t,2),a=c[0],r=c[1],s=Object(n.useState)(""),o=Object(i.a)(s,2),d=o[0],u=o[1];return Object(p.jsx)("div",{children:Object(p.jsxs)("div",{className:"flex flex-col w-full px-4 py-8 bg-white rounded-lg",children:[Object(p.jsx)("h5",{className:"mb-1",children:"Login To Your MakerRepo Account"}),Object(p.jsx)("div",{children:Object(p.jsxs)("div",{children:[Object(p.jsx)("div",{className:"flex flex-col mb-2",children:Object(p.jsxs)("div",{className:"flex relative",children:[Object(p.jsx)("span",{className:"rounded-l-md inline-flex items-center px-3 border-t bg-white border-l border-b border-gray-300 text-gray-500 shadow-sm text-sm",children:Object(p.jsx)("svg",{width:"15",height:"15",fill:"currentColor",viewBox:"0 0 1792 1792",xmlns:"http://www.w3.org/2000/svg",children:Object(p.jsx)("path",{d:"M1792 710v794q0 66-47 113t-113 47h-1472q-66 0-113-47t-47-113v-794q44 49 101 87 362 246 497 345 57 42 92.5 65.5t94.5 48 110 24.5h2q51 0 110-24.5t94.5-48 92.5-65.5q170-123 498-345 57-39 100-87zm0-294q0 79-49 151t-122 123q-376 261-468 325-10 7-42.5 30.5t-54 38-52 32.5-57.5 27-50 9h-2q-23 0-50-9t-57.5-27-52-32.5-54-38-42.5-30.5q-91-64-262-182.5t-205-142.5q-62-42-117-115.5t-55-136.5q0-78 41.5-130t118.5-52h1472q65 0 112.5 47t47.5 113z"})})}),Object(p.jsx)("input",{type:"text",id:"sign-in-email",value:a,onChange:function(e){return r(e.target.value)},name:"username_email",className:" rounded-r-lg flex-1 appearance-none border border-gray-300 w-full py-2 px-4 bg-white text-gray-700 placeholder-gray-400 shadow-sm text-base focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent",placeholder:"Your email or username"})]})}),Object(p.jsx)("div",{className:"flex flex-col mb-6",children:Object(p.jsxs)("div",{className:"flex relative",children:[Object(p.jsx)("span",{className:"rounded-l-md inline-flex  items-center px-3 border-t bg-white border-l border-b  border-gray-300 text-gray-500 shadow-sm text-sm",children:Object(p.jsx)("svg",{width:"15",height:"15",fill:"currentColor",viewBox:"0 0 1792 1792",xmlns:"http://www.w3.org/2000/svg",children:Object(p.jsx)("path",{d:"M1376 768q40 0 68 28t28 68v576q0 40-28 68t-68 28h-960q-40 0-68-28t-28-68v-576q0-40 28-68t68-28h32v-320q0-185 131.5-316.5t316.5-131.5 316.5 131.5 131.5 316.5q0 26-19 45t-45 19h-64q-26 0-45-19t-19-45q0-106-75-181t-181-75-181 75-75 181v320h736z"})})}),Object(p.jsx)("input",{type:"password",id:"sign-in-password",value:d,onChange:function(e){return u(e.target.value)},name:"password",className:" rounded-r-lg flex-1 appearance-none border border-gray-300 w-full py-2 px-4 bg-white text-gray-700 placeholder-gray-400 shadow-sm text-base focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent",placeholder:"Your password"})]})}),Object(p.jsx)("div",{className:"d-grid gap-2",children:Object(p.jsx)("button",{type:"button",onClick:function(){j.a.post("".concat(l.config.api_url,"/login_authentication"),{username_email:a,password:d},{withCredentials:!0,headers:{Accept:"application/json","Content-Type":"application/json"}}).then((function(t){m(t.data.token,t.data.user),e.history.push("/")})).catch((function(e){console.log("Something went wrong. Please try again later.")}))},className:"btn btn-primary",children:"Login"})})]})})]})})},x=c(26),f=c(11),g=function(){var e=Object(f.g)(),t=Object(n.useState)(null),c=Object(i.a)(t,2),a=c[0],r=c[1],s=Object(n.useState)(null),o=Object(i.a)(s,2),d=o[0],j=o[1],u=Object(n.useState)(null),b=Object(i.a)(u,2),h=b[0],m=b[1];Object(n.useEffect)((function(){O()}),[]);var O=function(){fetch("".concat(l.config.api_url,"/staff_dashboard"),{method:"GET",credentials:"include",headers:{Accept:"application/json","Content-Type":"application/json"}}).then((function(e){return e.json().then((function(e){r(JSON.stringify(e))}))})).catch((function(e){console.error(e)}))},x=function(){fetch("".concat(l.config.api_url,"/staff_dashboard/search?query=").concat(h),{method:"GET",credentials:"include",headers:{Accept:"application/json","Content-Type":"application/json"}}).then((function(e){return e.json().then((function(e){j(JSON.stringify(e))}))})).catch((function(e){console.error(e)}))};return Object(p.jsxs)("div",{children:[Object(p.jsx)("div",{children:Object(p.jsx)("select",{value:null!==a&&JSON.parse(a).space.id,onChange:function(e){return t=e.target.value,void fetch("".concat(l.config.api_url,"/staff_dashboard/change_space?space_id=").concat(t),{method:"PUT",credentials:"include",headers:{Accept:"application/json","Content-Type":"application/json"}}).then((function(e){return e.json().then((function(e){O()}))})).catch((function(e){console.error(e)}));var t},className:"block w-52 text-gray-700 py-2 px-3 border border-gray-300 bg-white rounded-md shadow-sm focus:outline-none focus:ring-primary-500 focus:border-primary-500",children:null!==a&&JSON.parse(a).space_list.map((function(e){return Object(p.jsx)("option",{value:e[1],children:e[0]})}))})}),Object(p.jsx)("div",{children:Object(p.jsx)("div",{className:"d-grid gap-2",children:Object(p.jsx)("button",{type:"button",onClick:function(){return O()},className:"btn btn-primary",children:"Refresh Space"})})}),Object(p.jsx)("div",{className:"px-4 sm:px-8 py-4 overflow-x-auto",children:Object(p.jsx)("div",{className:"table-responsive",children:Object(p.jsxs)("table",{className:"table",children:[Object(p.jsx)("thead",{children:Object(p.jsxs)("tr",{children:[Object(p.jsx)("th",{scope:"col",children:"Name"}),Object(p.jsx)("th",{scope:"col",children:"Email"}),Object(p.jsx)("th",{scope:"col",children:"Flagged?"}),Object(p.jsx)("th",{scope:"col",children:"Sign Out"})]})}),Object(p.jsx)("tbody",{children:null!==a&&JSON.parse(a).space_users.map((function(t){return Object(p.jsxs)("tr",{children:[Object(p.jsx)("td",{children:Object(p.jsx)("div",{className:"flex items-center",children:Object(p.jsx)("div",{className:"ml-3",children:Object(p.jsx)("p",{onClick:function(){return c=t.username,void e.push("/profile/".concat(c));var c},children:t.name})})})}),Object(p.jsx)("td",{children:t.email}),Object(p.jsx)("td",{children:t.flagged?"Yes":"No"}),Object(p.jsx)("td",{children:Object(p.jsx)("button",{type:"button",onClick:function(){return e=t.username,void fetch("".concat(l.config.api_url,"/staff_dashboard/remove_users?dropped_users[]=").concat(e),{method:"PUT",credentials:"include",headers:{Accept:"application/json","Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){O()})).catch((function(e){console.error(e)}));var e},className:"btn btn-danger",children:"Sign Out"})})]})}))})]})})}),Object(p.jsx)("div",{className:"relative",children:Object(p.jsx)("input",{type:"text",id:"rounded-email",onChange:function(e){return m(e.target.value)},className:" rounded-lg border-transparent flex-1 appearance-none border border-gray-300 w-full py-2 px-4 bg-white text-gray-700 placeholder-gray-400 shadow-sm text-base focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent",placeholder:"Username, Name"})}),Object(p.jsx)("div",{className:"d-grid gap-2",children:Object(p.jsx)("button",{type:"button",onClick:function(){return x()},className:"btn btn-primary",children:"Search"})}),null!==d&&Object(p.jsx)("div",{className:"px-4 sm:px-8 py-4 overflow-x-auto",children:Object(p.jsx)("div",{className:"table-responsive",children:Object(p.jsxs)("table",{className:"table",children:[Object(p.jsx)("thead",{children:Object(p.jsxs)("tr",{children:[Object(p.jsx)("th",{scope:"col",children:"Name"}),Object(p.jsx)("th",{scope:"col",children:"Email"}),Object(p.jsx)("th",{scope:"col",children:"Flagged?"}),Object(p.jsx)("th",{scope:"col",children:"Sign In"})]})}),Object(p.jsx)("tbody",{children:JSON.parse(d).map((function(e){return Object(p.jsxs)("tr",{children:[Object(p.jsx)("td",{children:Object(p.jsx)("div",{className:"flex items-center",children:Object(p.jsx)("div",{className:"ml-3",children:e.name})})}),Object(p.jsx)("td",{children:Object(p.jsx)("p",{className:"text-gray-900 whitespace-no-wrap",children:e.email})}),Object(p.jsx)("td",{children:e.flagged?"Yes":"No"}),Object(p.jsx)("td",{children:Object(p.jsx)("button",{type:"button",onClick:function(){return t=e.username,void fetch("".concat(l.config.api_url,"/staff_dashboard/add_users?added_users[]=").concat(t),{method:"PUT",credentials:"include",headers:{Accept:"application/json","Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){O(),x()})).catch((function(e){console.error(e)}));var t},className:"btn btn-success",children:"Sign In"})})]})}))})]})})})]})},v=c(56),N=c.n(v),y=c(238);function w(e){var t=function(t){var c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"text",n=arguments.length>2?arguments[2]:void 0,a=arguments.length>3?arguments[3]:void 0,r=arguments.length>4?arguments[4]:void 0,s=e.hour;try{t.split(".").forEach((function(e){s=s[e]}))}catch(i){return Object(p.jsx)(y.a,{variant:c,width:n,height:a})}return s?r?r(s):s:Object(p.jsx)(y.a,{variant:c,width:n,height:a})};return Object(p.jsx)("div",{className:"card",children:Object(p.jsxs)("div",{className:"card-body",children:[Object(p.jsx)("h4",{className:"card-title",children:t("name")}),Object(p.jsx)("h6",{className:"card-subtitle mb-2",children:t("email")}),Object(p.jsx)("h6",{className:"card-subtitle mb-2",children:t("address")}),Object(p.jsx)("h6",{className:"card-subtitle mb-2",children:t("phone_number")}),Object(p.jsxs)("ul",{className:"list-group",children:[Object(p.jsxs)("div",{children:[Object(p.jsx)("div",{className:"card-header",children:"Students"}),Object(p.jsx)("div",{className:"card-body",children:t("opening_hour.students","rectangular",void 0,150,N.a)})]}),Object(p.jsxs)("div",{children:[Object(p.jsx)("div",{className:"card-header",children:"Public"}),Object(p.jsx)("div",{className:"card-body",children:t("opening_hour.public","text",void 0,void 0,N.a)})]}),Object(p.jsxs)("div",{children:[Object(p.jsx)("div",{className:"card-header",children:"Summer"}),Object(p.jsx)("div",{className:"card-body",children:t("opening_hour.summer","text",void 0,void 0,N.a)})]})]})]})})}var S=function(){var e=Object(n.useState)(null),t=Object(i.a)(e,2),c=t[0],a=t[1],r=Object(n.useState)(!1),s=Object(i.a)(r,2),o=s[0];s[1];return Object(n.useEffect)((function(){j.a.get("".concat(l.config.api_url,"/hours"),{headers:{Accept:"application/json","Content-Type":"application/json"}}).then((function(e){a(e.data)})).catch((function(e){console.log(e)}))}),[]),Object(p.jsxs)("div",{children:["Space Hours",!o&&c?Object(p.jsx)("div",{children:c.map((function(e,t){return Object(p.jsx)(w,{hour:e},t)}))}):Object(p.jsxs)("div",{children:[Object(p.jsx)(w,{hour:{}}),Object(p.jsx)(w,{hour:{}})]})]})};var k=function(e){var t=Object(n.useState)(null),c=Object(i.a)(t,2),a=c[0],r=c[1];return Object(n.useEffect)((function(){r(u())}),[]),Object(p.jsx)("div",{children:a&&Object(p.jsxs)(p.Fragment,{children:[Object(p.jsxs)("h1",{children:["Hello ",a.name]}),"admin1"===a.role?Object(p.jsx)(g,{}):Object(p.jsx)(S,{}),Object(p.jsx)("button",{className:"btn btn-primary",onClick:function(){j.a.get("".concat(l.config.api_url,"/logout"),{withCredentials:!0,headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(window.localStorage.getItem("token"))}}).then((function(){h(),e.history.push("/login")})).catch((function(e){console.error(e)}))},children:"Logout"})]})})},C=function(){return Object(p.jsxs)("div",{className:"bottom-nav",children:[Object(p.jsxs)(x.b,{to:"",className:"bottom-nav-item active",children:[Object(p.jsx)("i",{className:"material-icons home-icon",children:"home"}),Object(p.jsx)("span",{className:"bottom-nav-text",children:"Home"})]}),Object(p.jsxs)(x.b,{to:"/profile/Art29",className:"bottom-nav-item",children:[Object(p.jsx)("i",{className:"material-icons person-icon",children:"person"}),Object(p.jsx)("span",{className:"bottom-nav-text",children:"Profile"})]}),Object(p.jsxs)(x.b,{to:"/help",className:"bottom-nav-item",children:[Object(p.jsx)("i",{className:"material-icons person-info",children:"help"}),Object(p.jsx)("span",{className:"bottom-nav-text",children:"Help"})]})]})},_=c(18),A=function(e){return void 0===e||null==e?"Not Available":e},q=function(e,t){return j.a.patch("".concat(l.config.api_url,"/").concat(e),{withCredentials:!0,headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(window.localStorage.getItem("token"))},body:JSON.stringify(t)}).then((function(e){return e.data})).catch((function(e){return e}))},T=c(235),I=c(242),E=c(35),P=c(241),B=c(240),J=["children","value","index"];function z(e){var t=e.children,c=e.value,n=e.index,a=Object(E.a)(e,J);return Object(p.jsx)("div",Object(_.a)(Object(_.a)({role:"tabpanel",hidden:c!==n,id:"profile-tab-".concat(n),"aria-labelledby":"profile-tab-".concat(n)},a),{},{children:c===n&&Object(p.jsx)(B.a,{sx:{p:3},children:Object(p.jsx)(P.a,{children:t})})}))}function F(e){return{id:"simple-tab-".concat(e),"aria-controls":"simple-tabpanel-".concat(e)}}var U=function(){var e=Object(f.h)().username,t=Object(n.useState)(null),c=Object(i.a)(t,2),r=c[0],s=c[1],o=Object(n.useState)(null),d=Object(i.a)(o,2),b=d[0],h=d[1],m=Object(n.useState)(null),O=Object(i.a)(m,2),x=O[0],g=O[1],v=Object(n.useState)(null),N=Object(i.a)(v,2),y=N[0],w=N[1],S=Object(n.useState)(null),k=Object(i.a)(S,2),C=k[0],E=k[1],P=Object(n.useState)(""),B=Object(i.a)(P,2),J=B[0],U=B[1],Y=Object(n.useState)(!1),M=Object(i.a)(Y,2),L=M[0],R=M[1],H=Object(n.useState)(!1),D=Object(i.a)(H,2),V=D[0],G=D[1],K=function(e){U(e.target.value)},Q=function(e){e.preventDefault(),"role-form"===e.target.id?X():"programs-form"===e.target.id&&Z()};Object(n.useEffect)((function(){s(u()),W()}),[]);var W=function(){var t;(t=e,j.a.get("".concat(l.config.api_url,"/").concat(t),{withCredentials:!0,headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(window.localStorage.getItem("token"))}}).then((function(e){return e.data})).catch((function(e){return e}))).then((function(e){h(e.user),g(e.programs),w(e.certifications),E(e.remaining_trainings),e.programs.includes("Volunteer Program")&&G(!0),e.programs.includes("Development Program")&&R(!0)})).catch((function(e){console.error(e)}))},X=function(){q("admin/users/set_role",{id:b.id,role:J}).then((function(){W()})).catch((function(e){console.error(e)}))},Z=function(){q("change_programs",{user_id:b.id,dev_program:L,volunteer:V}).then((function(){W()})).catch((function(e){console.error(e)}))},$=a.a.useState(0),ee=Object(i.a)($,2),te=ee[0],ce=ee[1];return Object(p.jsx)("div",{children:null==b||null==x||null==y||null==C?Object(p.jsx)("div",{children:"Loading ..."}):Object(p.jsxs)("div",{children:[Object(p.jsxs)(T.a,{style:{width:"100vw"},value:te,onChange:function(e,t){ce(t)},variant:"scrollable",scrollButtons:"auto",allowScrollButtonsMobile:!0,"aria-label":"scrollable auto tabs example",children:[Object(p.jsx)(I.a,Object(_.a)({label:"About"},F(0))),Object(p.jsx)(I.a,Object(_.a)({label:"Programs"},F(1))),Object(p.jsx)(I.a,Object(_.a)({label:"Certifications"},F(2))),"admin"===r.role&&Object(p.jsx)(I.a,Object(_.a)({label:"Role Manager"},F(3)))]}),Object(p.jsx)(z,{value:te,index:0,children:Object(p.jsxs)("ul",{className:"list-group",children:[Object(p.jsxs)("li",{className:"list-group-item",children:["Username: ",A(b.username)]}),Object(p.jsxs)("li",{className:"list-group-item",children:["Name: ",A(b.name)]}),Object(p.jsxs)("li",{className:"list-group-item",children:["Email: ",A(b.email)]}),Object(p.jsxs)("li",{className:"list-group-item",children:["Faculty: ",A(b.faculty)]}),Object(p.jsxs)("li",{className:"list-group-item",children:["Program: ",A(b.program)]}),Object(p.jsxs)("li",{className:"list-group-item",children:["Year of study: ",A(b.year_of_study)]}),Object(p.jsxs)("li",{className:"list-group-item",children:["Identity: ",A(b.identity)]})]})}),Object(p.jsx)(z,{value:te,index:1,children:Object(p.jsxs)("form",{onSubmit:Q,id:"programs-form",children:[Object(p.jsxs)("div",{className:"list-group mx-0",children:[Object(p.jsxs)("label",{className:"list-group-item d-flex gap-2",children:[Object(p.jsx)("input",{className:"form-check-input flex-shrink-0",type:"checkbox",checked:L,value:String(L),onChange:function(){R(!L)}}),Object(p.jsx)("span",{children:"Dev Program"})]}),Object(p.jsxs)("label",{className:"list-group-item d-flex gap-2",children:[Object(p.jsx)("input",{className:"form-check-input flex-shrink-0",type:"checkbox",checked:V,value:String(V),onChange:function(){G(!V)}}),Object(p.jsx)("span",{children:"Volunteer"})]})]}),Object(p.jsx)("button",{type:"submit",className:"btn btn-primary",children:"Update Programs"})]})}),Object(p.jsx)(z,{value:te,index:2,children:"Certifications"}),Object(p.jsx)(z,{value:te,index:3,children:"admin"===r.role&&Object(p.jsxs)(p.Fragment,{children:[Object(p.jsxs)("p",{children:["Current role: ",b.role]}),Object(p.jsxs)("form",{onSubmit:Q,id:"role-form",children:[Object(p.jsxs)("div",{className:"form-check",children:[Object(p.jsx)("input",{className:"form-check-input",type:"radio",name:"role",id:"role-admin",value:"admin",checked:"admin"===J,onChange:K}),Object(p.jsx)("label",{className:"form-check-label",htmlFor:"role-admin",children:"Admin"})]}),Object(p.jsxs)("div",{className:"form-check",children:[Object(p.jsx)("input",{className:"form-check-input",type:"radio",name:"role",id:"radio-staff",value:"staff",checked:"staff"===J,onChange:K}),Object(p.jsx)("label",{className:"form-check-label",htmlFor:"radio-staff",children:"Staff"})]}),Object(p.jsxs)("div",{className:"form-check",children:[Object(p.jsx)("input",{className:"form-check-input",type:"radio",name:"role",id:"radio-regular",value:"regular_user",checked:"regular_user"===J,onChange:K}),Object(p.jsx)("label",{className:"form-check-label",htmlFor:"radio-regular",children:"Regular User"})]}),Object(p.jsx)("button",{className:"btn btn-primary",children:"Update role"})]})]})})]})})},Y=(c(189),c(190),["component"]),M=function(e){var t=e.component,c=Object(E.a)(e,Y);return Object(p.jsx)(f.b,Object(_.a)(Object(_.a)({},c),{},{render:function(e){return Object(p.jsx)(t,Object(_.a)({},e))}}))},L=["component"],R=function(e){var t=e.component,c=Object(E.a)(e,L);return Object(p.jsx)(f.b,Object(_.a)(Object(_.a)({},c),{},{render:function(e){return b()?Object(p.jsx)(t,Object(_.a)({},e)):Object(p.jsx)(f.a,{to:{pathname:"/login",state:{from:e.location}}})}}))},H=c(109),D=c.n(H),V=c(239),G=function(e){var t=Object(n.useState)(!1),c=Object(i.a)(t,2),a=c[0],r=c[1],s=Object(n.useState)({}),o=Object(i.a)(s,2),d=o[0],u=o[1],b=Object(n.useState)(!1),m=Object(i.a)(b,2),O=m[0],x=m[1],f=Object(n.useState)(""),g=Object(i.a)(f,2),v=g[0],N=g[1],y=Object(n.useState)(""),w=Object(i.a)(y,2),S=w[0],k=w[1],C=Object(n.useState)(""),_=Object(i.a)(C,2),A=_[0],q=_[1],T=Object(n.useState)(""),I=Object(i.a)(T,2),E=I[0],P=I[1];return Object(p.jsxs)("div",{className:"p-5p",children:[Object(p.jsxs)("div",{className:"py-4 text-center",children:[Object(p.jsx)("h2",{children:"MakerRepo App"}),Object(p.jsxs)("p",{children:["Version ",l.config.app_version]})]}),Object(p.jsxs)("div",{children:[Object(p.jsx)("h3",{className:"text-center py-1",children:"You need help? Contact Us through this form!"}),Object(p.jsxs)("div",{className:"mb-3",children:[Object(p.jsx)("label",{className:"form-label",children:"Full Name"}),Object(p.jsx)("input",{type:"text",name:"name",className:"form-control",value:v,onChange:function(e){return N(e.target.value)}}),d.name&&Object(p.jsx)("div",{className:"text-danger",children:d.name})]}),Object(p.jsxs)("div",{className:"mb-3",children:[Object(p.jsx)("label",{className:"form-label",children:"Email address"}),Object(p.jsx)("input",{type:"email",name:"email",className:"form-control",value:S,onChange:function(e){return k(e.target.value)}}),d.email&&Object(p.jsx)("div",{className:"text-danger",children:d.email})]}),Object(p.jsxs)("div",{className:"mb-3",children:[Object(p.jsx)("label",{className:"form-label",children:"Subject"}),Object(p.jsx)("input",{type:"text",name:"text",className:"form-control",value:A,onChange:function(e){return q(e.target.value)}}),d.subject&&Object(p.jsx)("div",{className:"text-danger",children:d.subject})]}),Object(p.jsxs)("div",{className:"mb-3",children:[Object(p.jsx)("label",{className:"form-label",children:"Comments"}),Object(p.jsx)("textarea",{name:"comments",className:"form-control",value:E,onChange:function(e){return P(e.target.value)}}),d.comments&&Object(p.jsx)("div",{className:"text-danger",children:d.comments})]}),Object(p.jsx)(V.a,{variant:"contained",onClick:function(){var e,t;(function(e,t){var c={};return e.forEach((function(e){e[1]||(c[e[0]]="The ".concat(e[0]," field is required"))})),t&&t(c),0===Object.keys(c).length})([["name",v],["email",S],["subject",A],["comments",E]],u)&&(e="send_email",t={name:v,email:S,subject:A,comments:E},j.a.patch("".concat(l.config.api_url,"/").concat(e),t,{withCredentials:!0,headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(window.localStorage.getItem("token"))}}).then((function(e){return e.data})).catch((function(e){return e}))).then((function(){x(!0),r(!1)})).catch((function(e){x(!0),console.log(e),r(!0)}))},children:"Submit"})]}),Object(p.jsx)("br",{}),O&&!a&&Object(p.jsx)("div",{className:"alert alert-success",children:"The help request has successfully been sent. You can expect an answer within 48 business hours"}),O&&a&&Object(p.jsx)("div",{className:"alert alert-danger",children:"An error occurred while sending the email. Please try again later or contact uottawa.makerepo@gmail.com"}),Object(p.jsx)(V.a,{variant:"outlined",startIcon:Object(p.jsx)(D.a,{}),onClick:function(){j.a.get("".concat(l.config.api_url,"/logout"),{withCredentials:!0,headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(window.localStorage.getItem("token"))}}).then((function(){h(),e.history.push("/login")})).catch((function(e){console.error(e)}))},children:"Logout"})]})};var K=function(){var e=Object(n.useState)(!0),t=Object(i.a)(e,2),c=t[0],a=t[1];return Object(n.useEffect)((function(){b()&&j.a.get("".concat(l.config.api_url,"/check_signed_in"),{withCredentials:!0,headers:{Authorization:"Bearer ".concat(window.localStorage.getItem("token")),Accept:"application/json","Content-Type":"application/json"}}).then((function(e){m(e.data.token,e.data.user),a(!1)})).catch((function(e){console.log(e),h(),a(!1)}))}),[]),c&&b()?Object(p.jsx)("div",{className:"content",children:"Checking Authentication..."}):Object(p.jsx)(x.a,{children:Object(p.jsxs)("div",{className:"main",children:[Object(p.jsx)("div",{className:"content",children:Object(p.jsxs)(f.d,{children:[Object(p.jsx)(M,{path:"/login",component:O}),Object(p.jsx)(M,{path:"/help",component:G}),Object(p.jsx)(R,{path:"/profile/:username",children:Object(p.jsx)(U,{})}),Object(p.jsx)(R,{path:"/",component:k})]})}),Object(p.jsx)(C,{})]})})};s.a.render(Object(p.jsx)(a.a.StrictMode,{children:Object(p.jsx)(K,{})}),document.getElementById("root"))},73:function(e,t,c){}},[[214,1,2]]]);
//# sourceMappingURL=main.d0d4922e.chunk.js.map