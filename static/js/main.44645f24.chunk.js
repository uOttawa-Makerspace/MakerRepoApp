(this["webpackJsonpmakerepo-react-app"]=this["webpackJsonpmakerepo-react-app"]||[]).push([[0],{169:function(e,t){},214:function(e,t,c){"use strict";c.r(t);var n=c(1),a=c.n(n),s=c(102),r=c.n(s),i=(c(73),c(5)),o="Alpha",l="1.0.0",j={config:{api_url:"https://dev.makerepo.com",app_release_type:o,app_version:l}},d=c(22),u=c.n(d),b=function(){var e=window.localStorage.getItem("user");return e?JSON.parse(e):null},h=function(){return window.localStorage.getItem("token")||null},m=function(){window.localStorage.removeItem("token"),window.localStorage.removeItem("user")},p=function(e,t){window.localStorage.setItem("token",e),window.localStorage.setItem("user",JSON.stringify(t))},O=c.p+"static/media/makerepo-logo.ccabe80b.jpg",x=Object(n.createContext)({loggedIn:!1,setLoggedIn:function(){}}),f=c(0);var g=function(e){var t=Object(n.useState)(""),c=Object(i.a)(t,2),a=c[0],s=c[1],r=Object(n.useState)(""),o=Object(i.a)(r,2),l=o[0],d=o[1],b=Object(n.useContext)(x),h=(b.loggedIn,b.setLoggedIn);return Object(f.jsx)("div",{className:"v-center",children:Object(f.jsxs)("div",{className:"d-block",children:[Object(f.jsxs)("div",{className:"text-center",children:[Object(f.jsx)("img",{src:O,alt:"MakeRepo Logo"}),Object(f.jsx)("h5",{className:"m-2",children:"Login"})]}),Object(f.jsx)("div",{className:"mb-3",children:Object(f.jsx)("input",{type:"text",value:a,onChange:function(e){return s(e.target.value)},name:"username_email",className:"form-control",placeholder:"Email / Username"})}),Object(f.jsxs)("div",{className:"mb-3",children:[Object(f.jsx)("input",{type:"password",value:l,onChange:function(e){return d(e.target.value)},name:"password",className:"form-control",placeholder:"Password"}),Object(f.jsx)("a",{href:"https://makerepo.com/forgot_password",target:"_blank",rel:"noreferrer",children:"Forgot Your Password?"})]}),Object(f.jsx)("div",{className:"mb-3",children:Object(f.jsx)("div",{className:"d-grid gap-2",children:Object(f.jsx)("button",{type:"button",onClick:function(){u.a.post("".concat(j.config.api_url,"/login_authentication"),{username_email:a,password:l},{withCredentials:!0,headers:{Accept:"application/json","Content-Type":"application/json"}}).then((function(t){p(t.data.token,t.data.user),h(!0),e.history.push("/")})).catch((function(e){h(!1),console.log("Something went wrong. Please try again later.")}))},className:"btn btn-primary",children:"Login"})})}),Object(f.jsx)("a",{href:"https://makerepo.com/new",target:"_blank",rel:"noreferrer",children:Object(f.jsx)("span",{className:"",children:"You don't have an account?"})})]})})},v=c(26),N=c(11),y=function(){var e=Object(N.g)(),t=Object(n.useState)(null),c=Object(i.a)(t,2),a=c[0],s=c[1],r=Object(n.useState)(null),o=Object(i.a)(r,2),l=o[0],d=o[1],u=Object(n.useState)(null),b=Object(i.a)(u,2),h=b[0],m=b[1];Object(n.useEffect)((function(){p()}),[]);var p=function(){fetch("".concat(j.config.api_url,"/staff_dashboard"),{method:"GET",credentials:"include",headers:{Accept:"application/json","Content-Type":"application/json"}}).then((function(e){return e.json().then((function(e){s(JSON.stringify(e))}))})).catch((function(e){console.error(e)}))},O=function(){fetch("".concat(j.config.api_url,"/staff_dashboard/search?query=").concat(h),{method:"GET",credentials:"include",headers:{Accept:"application/json","Content-Type":"application/json"}}).then((function(e){return e.json().then((function(e){d(JSON.stringify(e))}))})).catch((function(e){console.error(e)}))};return Object(f.jsxs)("div",{children:[Object(f.jsx)("div",{children:Object(f.jsx)("select",{value:null!==a&&JSON.parse(a).space.id,onChange:function(e){return t=e.target.value,void fetch("".concat(j.config.api_url,"/staff_dashboard/change_space?space_id=").concat(t),{method:"PUT",credentials:"include",headers:{Accept:"application/json","Content-Type":"application/json"}}).then((function(e){return e.json().then((function(e){p()}))})).catch((function(e){console.error(e)}));var t},className:"block w-52 text-gray-700 py-2 px-3 border border-gray-300 bg-white rounded-md shadow-sm focus:outline-none focus:ring-primary-500 focus:border-primary-500",children:null!==a&&JSON.parse(a).space_list.map((function(e){return Object(f.jsx)("option",{value:e[1],children:e[0]})}))})}),Object(f.jsx)("div",{children:Object(f.jsx)("div",{className:"d-grid gap-2",children:Object(f.jsx)("button",{type:"button",onClick:function(){return p()},className:"btn btn-primary",children:"Refresh Space"})})}),Object(f.jsx)("div",{className:"px-4 sm:px-8 py-4 overflow-x-auto",children:Object(f.jsx)("div",{className:"table-responsive",children:Object(f.jsxs)("table",{className:"table",children:[Object(f.jsx)("thead",{children:Object(f.jsxs)("tr",{children:[Object(f.jsx)("th",{scope:"col",children:"Name"}),Object(f.jsx)("th",{scope:"col",children:"Email"}),Object(f.jsx)("th",{scope:"col",children:"Flagged?"}),Object(f.jsx)("th",{scope:"col",children:"Sign Out"})]})}),Object(f.jsx)("tbody",{children:null!==a&&JSON.parse(a).space_users.map((function(t){return Object(f.jsxs)("tr",{children:[Object(f.jsx)("td",{children:Object(f.jsx)("div",{className:"flex items-center",children:Object(f.jsx)("div",{className:"ml-3",children:Object(f.jsx)("p",{onClick:function(){return c=t.username,void e.push("/profile/".concat(c));var c},children:t.name})})})}),Object(f.jsx)("td",{children:t.email}),Object(f.jsx)("td",{children:t.flagged?"Yes":"No"}),Object(f.jsx)("td",{children:Object(f.jsx)("button",{type:"button",onClick:function(){return e=t.username,void fetch("".concat(j.config.api_url,"/staff_dashboard/remove_users?dropped_users[]=").concat(e),{method:"PUT",credentials:"include",headers:{Accept:"application/json","Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){p()})).catch((function(e){console.error(e)}));var e},className:"btn btn-danger",children:"Sign Out"})})]})}))})]})})}),Object(f.jsx)("div",{className:"relative",children:Object(f.jsx)("input",{type:"text",id:"rounded-email",onChange:function(e){return m(e.target.value)},className:" rounded-lg border-transparent flex-1 appearance-none border border-gray-300 w-full py-2 px-4 bg-white text-gray-700 placeholder-gray-400 shadow-sm text-base focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent",placeholder:"Username, Name"})}),Object(f.jsx)("div",{className:"d-grid gap-2",children:Object(f.jsx)("button",{type:"button",onClick:function(){return O()},className:"btn btn-primary",children:"Search"})}),null!==l&&Object(f.jsx)("div",{className:"px-4 sm:px-8 py-4 overflow-x-auto",children:Object(f.jsx)("div",{className:"table-responsive",children:Object(f.jsxs)("table",{className:"table",children:[Object(f.jsx)("thead",{children:Object(f.jsxs)("tr",{children:[Object(f.jsx)("th",{scope:"col",children:"Name"}),Object(f.jsx)("th",{scope:"col",children:"Email"}),Object(f.jsx)("th",{scope:"col",children:"Flagged?"}),Object(f.jsx)("th",{scope:"col",children:"Sign In"})]})}),Object(f.jsx)("tbody",{children:JSON.parse(l).map((function(e){return Object(f.jsxs)("tr",{children:[Object(f.jsx)("td",{children:Object(f.jsx)("div",{className:"flex items-center",children:Object(f.jsx)("div",{className:"ml-3",children:e.name})})}),Object(f.jsx)("td",{children:Object(f.jsx)("p",{className:"text-gray-900 whitespace-no-wrap",children:e.email})}),Object(f.jsx)("td",{children:e.flagged?"Yes":"No"}),Object(f.jsx)("td",{children:Object(f.jsx)("button",{type:"button",onClick:function(){return t=e.username,void fetch("".concat(j.config.api_url,"/staff_dashboard/add_users?added_users[]=").concat(t),{method:"PUT",credentials:"include",headers:{Accept:"application/json","Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){p(),O()})).catch((function(e){console.error(e)}));var t},className:"btn btn-success",children:"Sign In"})})]})}))})]})})})]})},S=c(56),w=c.n(S),_=c(238);function k(e){var t=function(t){var c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"text",n=arguments.length>2?arguments[2]:void 0,a=arguments.length>3?arguments[3]:void 0,s=arguments.length>4?arguments[4]:void 0,r=e.hour;try{t.split(".").forEach((function(e){r=r[e]}))}catch(i){return Object(f.jsx)(_.a,{variant:c,width:n,height:a})}return r?s?s(r):r:Object(f.jsx)(_.a,{variant:c,width:n,height:a})};return Object(f.jsx)("div",{className:"card",children:Object(f.jsxs)("div",{className:"card-body",children:[Object(f.jsx)("h4",{className:"card-title",children:t("name")}),Object(f.jsx)("h6",{className:"card-subtitle mb-2",children:t("email")}),Object(f.jsx)("h6",{className:"card-subtitle mb-2",children:t("address")}),Object(f.jsx)("h6",{className:"card-subtitle mb-2",children:t("phone_number")}),Object(f.jsxs)("ul",{className:"list-group",children:[Object(f.jsxs)("div",{children:[Object(f.jsx)("div",{className:"card-header",children:"Students"}),Object(f.jsx)("div",{className:"card-body",children:t("opening_hour.students","rectangular",void 0,150,w.a)})]}),Object(f.jsxs)("div",{children:[Object(f.jsx)("div",{className:"card-header",children:"Public"}),Object(f.jsx)("div",{className:"card-body",children:t("opening_hour.public","text",void 0,void 0,w.a)})]}),Object(f.jsxs)("div",{children:[Object(f.jsx)("div",{className:"card-header",children:"Summer"}),Object(f.jsx)("div",{className:"card-body",children:t("opening_hour.summer","text",void 0,void 0,w.a)})]})]})]})})}var C=function(){var e=Object(n.useState)(null),t=Object(i.a)(e,2),c=t[0],a=t[1],s=Object(n.useState)(!1),r=Object(i.a)(s,2),o=r[0];r[1];return Object(n.useEffect)((function(){u.a.get("".concat(j.config.api_url,"/hours"),{headers:{Accept:"application/json","Content-Type":"application/json"}}).then((function(e){a(e.data)})).catch((function(e){console.log(e)}))}),[]),Object(f.jsxs)("div",{children:["Space Hours",!o&&c?Object(f.jsx)("div",{children:c.map((function(e,t){return Object(f.jsx)(k,{hour:e},t)}))}):Object(f.jsxs)("div",{children:[Object(f.jsx)(k,{hour:{}}),Object(f.jsx)(k,{hour:{}})]})]})};var A=function(e){var t=Object(n.useState)(null),c=Object(i.a)(t,2),a=c[0],s=c[1];return Object(n.useEffect)((function(){s(b())}),[]),Object(f.jsx)("div",{children:a&&Object(f.jsxs)(f.Fragment,{children:[Object(f.jsxs)("h1",{children:["Hello ",a.name]}),"admin1"===a.role?Object(f.jsx)(y,{}):Object(f.jsx)(C,{}),Object(f.jsx)("button",{className:"btn btn-primary",onClick:function(){u.a.get("".concat(j.config.api_url,"/logout"),{withCredentials:!0,headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(window.localStorage.getItem("token"))}}).then((function(){m(),e.history.push("/login")})).catch((function(e){console.error(e)}))},children:"Logout"})]})})},I=function(){return Object(f.jsxs)("div",{className:"bottom-nav",children:[Object(f.jsxs)(v.b,{to:"",className:"bottom-nav-item active",children:[Object(f.jsx)("i",{className:"material-icons home-icon",children:"home"}),Object(f.jsx)("span",{className:"bottom-nav-text",children:"Home"})]}),Object(f.jsxs)(v.b,{to:"/profile/Art29",className:"bottom-nav-item",children:[Object(f.jsx)("i",{className:"material-icons person-icon",children:"person"}),Object(f.jsx)("span",{className:"bottom-nav-text",children:"Profile"})]}),Object(f.jsxs)(v.b,{to:"/help",className:"bottom-nav-item",children:[Object(f.jsx)("i",{className:"material-icons person-info",children:"help"}),Object(f.jsx)("span",{className:"bottom-nav-text",children:"Help"})]})]})},T=c(18),P=function(e){return void 0===e||null==e?"Not Available":e},E=function(e){return u.a.get("".concat(j.config.api_url,"/").concat(e),{withCredentials:!0,headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(window.localStorage.getItem("token"))}}).then((function(e){return e.data})).catch((function(e){return e}))},J=function(e,t){return u.a.patch("".concat(j.config.api_url,"/").concat(e),{withCredentials:!0,headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(window.localStorage.getItem("token"))},body:JSON.stringify(t)}).then((function(e){return e.data})).catch((function(e){return e}))},F=c(235),L=c(242),U=c(35),B=c(241),Y=c(240),z=["children","value","index"];function M(e){var t=e.children,c=e.value,n=e.index,a=Object(U.a)(e,z);return Object(f.jsx)("div",Object(T.a)(Object(T.a)({role:"tabpanel",hidden:c!==n,id:"profile-tab-".concat(n),"aria-labelledby":"profile-tab-".concat(n)},a),{},{children:c===n&&Object(f.jsx)(Y.a,{sx:{p:3},children:Object(f.jsx)(B.a,{children:t})})}))}function R(e){return{id:"simple-tab-".concat(e),"aria-controls":"simple-tabpanel-".concat(e)}}var H=function(){var e=Object(N.h)().username,t=Object(n.useState)(null),c=Object(i.a)(t,2),s=c[0],r=c[1],o=Object(n.useState)(null),l=Object(i.a)(o,2),j=l[0],d=l[1],u=Object(n.useState)(null),h=Object(i.a)(u,2),m=h[0],p=h[1],O=Object(n.useState)(null),x=Object(i.a)(O,2),g=x[0],v=x[1],y=Object(n.useState)(null),S=Object(i.a)(y,2),w=S[0],_=S[1],k=Object(n.useState)(""),C=Object(i.a)(k,2),A=C[0],I=C[1],U=Object(n.useState)(!1),B=Object(i.a)(U,2),Y=B[0],z=B[1],H=Object(n.useState)(!1),q=Object(i.a)(H,2),D=q[0],V=q[1],G=function(e){I(e.target.value)},K=function(e){e.preventDefault(),"role-form"===e.target.id?W():"programs-form"===e.target.id&&X()};Object(n.useEffect)((function(){r(b()),Q()}),[]);var Q=function(){E(e).then((function(e){d(e.user),p(e.programs),v(e.certifications),_(e.remaining_trainings),e.programs.includes("Volunteer Program")&&V(!0),e.programs.includes("Development Program")&&z(!0)})).catch((function(e){console.error(e)}))},W=function(){J("admin/users/set_role",{id:j.id,role:A}).then((function(){Q()})).catch((function(e){console.error(e)}))},X=function(){J("change_programs",{user_id:j.id,dev_program:Y,volunteer:D}).then((function(){Q()})).catch((function(e){console.error(e)}))},Z=a.a.useState(0),$=Object(i.a)(Z,2),ee=$[0],te=$[1];return Object(f.jsx)("div",{children:null==j||null==m||null==g||null==w?Object(f.jsx)("div",{children:"Loading ..."}):Object(f.jsxs)("div",{children:[Object(f.jsxs)(F.a,{style:{width:"100vw"},value:ee,onChange:function(e,t){te(t)},variant:"scrollable",scrollButtons:"auto",allowScrollButtonsMobile:!0,"aria-label":"scrollable auto tabs example",children:[Object(f.jsx)(L.a,Object(T.a)({label:"About"},R(0))),Object(f.jsx)(L.a,Object(T.a)({label:"Programs"},R(1))),Object(f.jsx)(L.a,Object(T.a)({label:"Certifications"},R(2))),"admin"===s.role&&Object(f.jsx)(L.a,Object(T.a)({label:"Role Manager"},R(3)))]}),Object(f.jsx)(M,{value:ee,index:0,children:Object(f.jsxs)("ul",{className:"list-group",children:[Object(f.jsxs)("li",{className:"list-group-item",children:["Username: ",P(j.username)]}),Object(f.jsxs)("li",{className:"list-group-item",children:["Name: ",P(j.name)]}),Object(f.jsxs)("li",{className:"list-group-item",children:["Email: ",P(j.email)]}),Object(f.jsxs)("li",{className:"list-group-item",children:["Faculty: ",P(j.faculty)]}),Object(f.jsxs)("li",{className:"list-group-item",children:["Program: ",P(j.program)]}),Object(f.jsxs)("li",{className:"list-group-item",children:["Year of study: ",P(j.year_of_study)]}),Object(f.jsxs)("li",{className:"list-group-item",children:["Identity: ",P(j.identity)]})]})}),Object(f.jsx)(M,{value:ee,index:1,children:Object(f.jsxs)("form",{onSubmit:K,id:"programs-form",children:[Object(f.jsxs)("div",{className:"list-group mx-0",children:[Object(f.jsxs)("label",{className:"list-group-item d-flex gap-2",children:[Object(f.jsx)("input",{className:"form-check-input flex-shrink-0",type:"checkbox",disabled:"admin"!==s.role,checked:Y,value:String(Y),onChange:function(){z(!Y)}}),Object(f.jsx)("span",{children:"Dev Program"})]}),Object(f.jsxs)("label",{className:"list-group-item d-flex gap-2",children:[Object(f.jsx)("input",{className:"form-check-input flex-shrink-0",type:"checkbox",disabled:"admin"!==s.role,checked:D,value:String(D),onChange:function(){V(!D)}}),Object(f.jsx)("span",{children:"Volunteer"})]})]}),"admin"===s.role&&Object(f.jsx)("button",{type:"submit",className:"btn btn-primary",children:"Update Programs"})]})}),Object(f.jsx)(M,{value:ee,index:2,children:"Certifications"}),Object(f.jsx)(M,{value:ee,index:3,children:"admin"===s.role&&Object(f.jsxs)(f.Fragment,{children:[Object(f.jsxs)("p",{children:["Current role: ",j.role]}),Object(f.jsxs)("form",{onSubmit:K,id:"role-form",children:[Object(f.jsxs)("div",{className:"form-check",children:[Object(f.jsx)("input",{className:"form-check-input",type:"radio",name:"role",id:"role-admin",value:"admin",checked:"admin"===A,onChange:G}),Object(f.jsx)("label",{className:"form-check-label",htmlFor:"role-admin",children:"Admin"})]}),Object(f.jsxs)("div",{className:"form-check",children:[Object(f.jsx)("input",{className:"form-check-input",type:"radio",name:"role",id:"radio-staff",value:"staff",checked:"staff"===A,onChange:G}),Object(f.jsx)("label",{className:"form-check-label",htmlFor:"radio-staff",children:"Staff"})]}),Object(f.jsxs)("div",{className:"form-check",children:[Object(f.jsx)("input",{className:"form-check-input",type:"radio",name:"role",id:"radio-regular",value:"regular_user",checked:"regular_user"===A,onChange:G}),Object(f.jsx)("label",{className:"form-check-label",htmlFor:"radio-regular",children:"Regular User"})]}),Object(f.jsx)("button",{className:"btn btn-primary",children:"Update role"})]})]})})]})})},q=(c(189),c(190),["component"]),D=function(e){var t=e.component,c=Object(U.a)(e,q);return Object(f.jsx)(N.b,Object(T.a)(Object(T.a)({},c),{},{render:function(e){return Object(f.jsx)(t,Object(T.a)({},e))}}))},V=["component"],G=function(e){var t=e.component,c=Object(U.a)(e,V);return Object(f.jsx)(N.b,Object(T.a)(Object(T.a)({},c),{},{render:function(e){return h()?Object(f.jsx)(t,Object(T.a)({},e)):Object(f.jsx)(N.a,{to:{pathname:"/login",state:{from:e.location}}})}}))},K=c(109),Q=c.n(K),W=c(239),X=function(e){var t=Object(n.useState)(!1),c=Object(i.a)(t,2),a=c[0],s=c[1],r=Object(n.useState)({}),o=Object(i.a)(r,2),l=o[0],d=o[1],b=Object(n.useState)(!1),h=Object(i.a)(b,2),p=h[0],O=h[1],g=Object(n.useState)(""),v=Object(i.a)(g,2),N=v[0],y=v[1],S=Object(n.useState)(""),w=Object(i.a)(S,2),_=w[0],k=w[1],C=Object(n.useState)(""),A=Object(i.a)(C,2),I=A[0],T=A[1],P=Object(n.useState)(""),E=Object(i.a)(P,2),J=E[0],F=E[1],L=Object(n.useContext)(x),U=(L.loggedIn,L.setLoggedIn);return Object(f.jsxs)("div",{className:"p-5p",children:[Object(f.jsxs)("div",{className:"py-4 text-center",children:[Object(f.jsx)("h2",{children:"MakerRepo App"}),Object(f.jsxs)("p",{children:["Version ",j.config.app_version," ",j.config.app_release_type]})]}),Object(f.jsxs)("div",{children:[Object(f.jsx)("h3",{className:"text-center py-1",children:"You need help? Contact Us through this form!"}),Object(f.jsxs)("div",{className:"mb-3",children:[Object(f.jsx)("label",{className:"form-label",children:"Full Name"}),Object(f.jsx)("input",{type:"text",name:"name",className:"form-control",value:N,onChange:function(e){return y(e.target.value)}}),l.name&&Object(f.jsx)("div",{className:"text-danger",children:l.name})]}),Object(f.jsxs)("div",{className:"mb-3",children:[Object(f.jsx)("label",{className:"form-label",children:"Email address"}),Object(f.jsx)("input",{type:"email",name:"email",className:"form-control",value:_,onChange:function(e){return k(e.target.value)}}),l.email&&Object(f.jsx)("div",{className:"text-danger",children:l.email})]}),Object(f.jsxs)("div",{className:"mb-3",children:[Object(f.jsx)("label",{className:"form-label",children:"Subject"}),Object(f.jsx)("input",{type:"text",name:"text",className:"form-control",value:I,onChange:function(e){return T(e.target.value)}}),l.subject&&Object(f.jsx)("div",{className:"text-danger",children:l.subject})]}),Object(f.jsxs)("div",{className:"mb-3",children:[Object(f.jsx)("label",{className:"form-label",children:"Comments"}),Object(f.jsx)("textarea",{name:"comments",className:"form-control",value:J,onChange:function(e){return F(e.target.value)}}),l.comments&&Object(f.jsx)("div",{className:"text-danger",children:l.comments})]}),Object(f.jsx)(W.a,{variant:"contained",onClick:function(){var e,t;(function(e,t){var c={};return e.forEach((function(e){e[1]||(c[e[0]]="The ".concat(e[0]," field is required"))})),t&&t(c),0===Object.keys(c).length})([["name",N],["email",_],["subject",I],["comments",J]],d)&&(e="send_email",t={name:N,email:_,subject:I,comments:J,app_version:"".concat(j.config.app_version," ").concat(j.config.app_release_type)},u.a.put("".concat(j.config.api_url,"/").concat(e),t,{withCredentials:!0,headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(window.localStorage.getItem("token"))}}).then((function(e){return e.data})).catch((function(e){return e}))).then((function(){O(!0),s(!1)})).catch((function(e){O(!0),console.log(e),s(!0)}))},children:"Submit"})]}),Object(f.jsx)("br",{}),p&&!a&&Object(f.jsx)("div",{className:"alert alert-success",children:"The help request has successfully been sent. You can expect an answer within 48 business hours"}),p&&a&&Object(f.jsx)("div",{className:"alert alert-danger",children:"An error occurred while sending the email. Please try again later or contact uottawa.makerepo@gmail.com"}),Object(f.jsx)(W.a,{variant:"outlined",startIcon:Object(f.jsx)(Q.a,{}),onClick:function(){u.a.get("".concat(j.config.api_url,"/logout"),{withCredentials:!0,headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(window.localStorage.getItem("token"))}}).then((function(){U(!1),m(),e.history.push("/login")})).catch((function(e){console.error(e)}))},children:"Logout"})]})};var Z=function(){var e=Object(n.useState)(!0),t=Object(i.a)(e,2),c=t[0],a=t[1],s=Object(n.useState)(!1),r=Object(i.a)(s,2),o=r[0],l=r[1];return Object(n.useEffect)((function(){h()&&(E("check_signed_in").then((function(e){p(e.token,e.user)})).catch((function(e){console.error(e),m()})),a(!1))}),[]),c&&h()?Object(f.jsx)("div",{className:"content",children:"Checking Authentication..."}):Object(f.jsx)(v.a,{children:Object(f.jsx)(x.Provider,{value:{loggedIn:o,setLoggedIn:l},children:Object(f.jsxs)("div",{className:"main",children:[Object(f.jsx)("div",{className:"content",children:Object(f.jsxs)(N.d,{children:[Object(f.jsx)(D,{path:"/login",component:g}),Object(f.jsx)(D,{path:"/help",component:X}),Object(f.jsx)(G,{path:"/profile/:username",children:Object(f.jsx)(H,{})}),Object(f.jsx)(G,{path:"/",component:A})]})}),o&&Object(f.jsx)(I,{})]})})})};r.a.render(Object(f.jsx)(a.a.StrictMode,{children:Object(f.jsx)(Z,{})}),document.getElementById("root"))},73:function(e,t,c){}},[[214,1,2]]]);
//# sourceMappingURL=main.44645f24.chunk.js.map